(venv) ujjal@DESKTOP-9359DEK:~/code/CustomerCallCenterAnalytics$ python3 server.py
üîç Validating system configuration...
‚úÖ Configuration validation passed
üóÑÔ∏è Initializing knowledge graph schema...
Initializing KuzuDB schema at: data/knowledge_graph_v2.db

=== Creating Node Tables ===
Creating Customer...
‚ö†Ô∏è  Customer already exists, skipping
Creating Transcript...
‚ö†Ô∏è  Transcript already exists, skipping
Creating Analysis...
‚ö†Ô∏è  Analysis already exists, skipping
Creating Plan...
‚ö†Ô∏è  Plan already exists, skipping
Creating Workflow...
‚ö†Ô∏è  Workflow already exists, skipping
Creating Execution...
‚ö†Ô∏è  Execution already exists, skipping
Creating Advisor...
‚ö†Ô∏è  Advisor already exists, skipping
Creating Hypothesis...
‚ö†Ô∏è  Hypothesis already exists, skipping
Creating CandidatePattern...
‚ö†Ô∏è  CandidatePattern already exists, skipping
Creating ValidatedPattern...
‚ö†Ô∏è  ValidatedPattern already exists, skipping
Creating Prediction...
‚ö†Ô∏è  Prediction already exists, skipping
Creating LearningNode...
‚ö†Ô∏è  LearningNode already exists, skipping
Creating KnowledgeEntity...
‚ö†Ô∏è  KnowledgeEntity already exists, skipping
Creating MetaLearning...
‚ö†Ô∏è  MetaLearning already exists, skipping
Creating Wisdom...
‚ö†Ô∏è  Wisdom already exists, skipping
Creating Call...
‚ö†Ô∏è  Call already exists, skipping

=== Creating Relationship Tables ===
Creating TRANSCRIPT_BELONGS_TO...
‚ö†Ô∏è  TRANSCRIPT_BELONGS_TO already exists, skipping
Creating ANALYSIS_ANALYZES...
‚ö†Ô∏è  ANALYSIS_ANALYZES already exists, skipping
Creating PLAN_PLANS_FOR...
‚ö†Ô∏è  PLAN_PLANS_FOR already exists, skipping
Creating WORKFLOW_IMPLEMENTS...
‚ö†Ô∏è  WORKFLOW_IMPLEMENTS already exists, skipping
Creating EXECUTION_EXECUTES...
‚ö†Ô∏è  EXECUTION_EXECUTES already exists, skipping
Creating HYPOTHESIS_DERIVED_FROM...
‚ö†Ô∏è  HYPOTHESIS_DERIVED_FROM already exists, skipping
Creating HYPOTHESIS_DERIVED_FROM_PLAN...
‚ö†Ô∏è  HYPOTHESIS_DERIVED_FROM_PLAN already exists, skipping
Creating HYPOTHESIS_DERIVED_FROM_EXECUTION...
‚ö†Ô∏è  HYPOTHESIS_DERIVED_FROM_EXECUTION already exists, skipping
Creating PATTERN_FORMED_FROM...
‚ö†Ô∏è  PATTERN_FORMED_FROM already exists, skipping
Creating PATTERN_VALIDATED...
‚ö†Ô∏è  PATTERN_VALIDATED already exists, skipping
Creating PREDICTION_BASED_ON...
‚ö†Ô∏è  PREDICTION_BASED_ON already exists, skipping
Creating TARGETS_CUSTOMER...
‚ö†Ô∏è  TARGETS_CUSTOMER already exists, skipping
Creating LEARNING_CONNECTS...
‚ö†Ô∏è  LEARNING_CONNECTS already exists, skipping
Creating KNOWLEDGE_EXTRACTED_FROM...
‚ö†Ô∏è  KNOWLEDGE_EXTRACTED_FROM already exists, skipping
Creating HYPOTHESIS_CONNECTS...
‚ö†Ô∏è  HYPOTHESIS_CONNECTS already exists, skipping
Creating PATTERN_INVOLVES...
‚ö†Ô∏è  PATTERN_INVOLVES already exists, skipping
Creating TRIGGERED_HYPOTHESIS...
‚ö†Ô∏è  TRIGGERED_HYPOTHESIS already exists, skipping
Creating CALL_BELONGS_TO_CUSTOMER...
‚ö†Ô∏è  CALL_BELONGS_TO_CUSTOMER already exists, skipping
Creating CALL_HANDLED_BY...
‚ö†Ô∏è  CALL_HANDLED_BY already exists, skipping
Creating CALL_HAS_TRANSCRIPT...
‚ö†Ô∏è  CALL_HAS_TRANSCRIPT already exists, skipping
Creating ADVISOR_HANDLES_WORKFLOW...
‚ö†Ô∏è  ADVISOR_HANDLES_WORKFLOW already exists, skipping
Creating ADVISOR_LEARNS_FROM...
‚ö†Ô∏è  ADVISOR_LEARNS_FROM already exists, skipping
Creating PATTERN_TEACHES_ADVISOR...
‚ö†Ô∏è  PATTERN_TEACHES_ADVISOR already exists, skipping
Creating WISDOM_DERIVED_FROM_PLAN...
‚ö†Ô∏è  WISDOM_DERIVED_FROM_PLAN already exists, skipping
Creating WISDOM_GUIDES_EXECUTION...
‚ö†Ô∏è  WISDOM_GUIDES_EXECUTION already exists, skipping
Creating WISDOM_VALIDATES_PATTERN...
‚ö†Ô∏è  WISDOM_VALIDATES_PATTERN already exists, skipping
Creating METALEARNING_ANALYZES_HYPOTHESIS...
‚ö†Ô∏è  METALEARNING_ANALYZES_HYPOTHESIS already exists, skipping
Creating METALEARNING_IMPROVES_PATTERN...
‚ö†Ô∏è  METALEARNING_IMPROVES_PATTERN already exists, skipping
Creating METALEARNING_GENERATES_WISDOM...
‚ö†Ô∏è  METALEARNING_GENERATES_WISDOM already exists, skipping

=== Schema Initialization Complete ===
All tables and relationships have been created successfully!

=== Verifying Schema ===
‚úÖ Customer: 1 nodes
‚úÖ Transcript: 2 nodes
‚úÖ Analysis: 4 nodes
‚úÖ Plan: 3 nodes
‚úÖ Workflow: 57 nodes
‚úÖ Execution: 0 nodes
‚úÖ Advisor: 1 nodes
‚úÖ Hypothesis: 4 nodes
‚úÖ CandidatePattern: 0 nodes
‚úÖ ValidatedPattern: 0 nodes
‚úÖ Prediction: 14 nodes
‚úÖ LearningNode: 0 nodes
‚úÖ KnowledgeEntity: 0 nodes
‚úÖ MetaLearning: 8 nodes
‚úÖ Wisdom: 10 nodes
‚úÖ Call: 4 nodes

üéâ KuzuDB schema initialized successfully at data/knowledge_graph_v2.db
‚úÖ Knowledge graph schema initialized successfully
‚úÖ All services initialized successfully
‚úÖ Knowledge event handling system initialized
‚úÖ Graph event handlers initialized - complete event-driven pipeline active
‚úÖ Graph event handlers initialized
‚úÖ Prediction cleanup system initialized
üöÄ Starting Customer Call Center Analytics API Server
üìö API Documentation: http://localhost:8000/docs
üåê Server URL: http://0.0.0.0:8000
‚úÖ Streamlined API with core endpoints only
INFO:     Started server process [64805]
INFO:     Waiting for application startup.
üöÄ Starting application lifespan...
‚úÖ Background prediction cleanup task started with error recovery
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:54378 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54378 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54386 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54378 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54378 - "GET /api/v1/orchestrate/runs HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/orchestrate/runs HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:54402 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:40800 - "GET /api/v1/workflows?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:40800 - "GET /api/v1/executions HTTP/1.1" 200 OK
INFO:     127.0.0.1:40800 - "GET /api/v1/executions?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:40814 - "GET /api/v1/executions?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:45970 - "GET /api/v1/executions?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:45970 - "GET /api/v1/executions?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:45982 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:45998 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:48426 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: advisor_borrower_1759853963179_p3uuuqx2d, using actual_session_id: advisor_borrower_1759853963179_p3uuuqx2d
INFO:     127.0.0.1:48430 - "GET /api/v1/workflows?limit=10 HTTP/1.1" 200 OK
[12:19:24] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:19:26] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:19:29] ‚úì POST | 0.7s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:19:45] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:45886 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: advisor_borrower_1759853963179_p3uuuqx2d, using actual_session_id: advisor_borrower_1759853963179_p3uuuqx2d
[12:19:51] ‚úì POST | 0.5s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
INFO:     127.0.0.1:43962 - "POST /api/v1/workflows/a905585d-7b09-44fa-837b-45cada8115bf/steps/1/execute HTTP/1.1" 200 OK
[12:19:55] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
{
    "body": "No subscribers for event type: EventType.EXECUTION_STEP_COMPLETED",
    "severity_number": 13,
    "severity_text": "WARN",
    "attributes": {
        "code.file.path": "/home/ujjal/code/CustomerCallCenterAnalytics/src/infrastructure/events/event_system.py",
        "code.function.name": "publish",
        "code.line.number": 122
    },
    "dropped_attributes": 0,
    "timestamp": "2025-10-07T16:19:55.700211Z",
    "observed_timestamp": "2025-10-07T16:19:55.700304Z",
    "trace_id": "0x00000000000000000000000000000000",
    "span_id": "0x0000000000000000",
    "trace_flags": 0,
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.36.0",
            "service.name": "xai",
            "service.version": "1.0.0"
        },
        "schema_url": ""
    },
    "event_name": ""
}
[12:19:56] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:20:06] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:60472 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: advisor_borrower_1759853963179_p3uuuqx2d, using actual_session_id: advisor_borrower_1759853963179_p3uuuqx2d
INFO:     127.0.0.1:52616 - "POST /api/v1/workflows/a905585d-7b09-44fa-837b-45cada8115bf/steps/2/execute HTTP/1.1" 200 OK
{
    "body": "No subscribers for event type: EventType.EXECUTION_STEP_COMPLETED",
    "severity_number": 13,
    "severity_text": "WARN",
    "attributes": {
        "code.file.path": "/home/ujjal/code/CustomerCallCenterAnalytics/src/infrastructure/events/event_system.py",
        "code.function.name": "publish",
        "code.line.number": 122
    },
    "dropped_attributes": 0,
    "timestamp": "2025-10-07T16:20:16.365561Z",
    "observed_timestamp": "2025-10-07T16:20:16.365617Z",
    "trace_id": "0x00000000000000000000000000000000",
    "span_id": "0x0000000000000000",
    "trace_flags": 0,
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.36.0",
            "service.name": "xai",
            "service.version": "1.0.0"
        },
        "schema_url": ""
    },
    "event_name": ""
}
[12:20:12] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:20:16] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:20:16] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:20:27] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:43424 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: advisor_borrower_1759854086714_8u58s2mct, using actual_session_id: advisor_borrower_1759854086714_8u58s2mct
INFO:     127.0.0.1:43430 - "GET /api/v1/transcripts?limit=10 HTTP/1.1" 200 OK
[12:21:28] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:21:29] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:21:32] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:21:37] ‚úì POST | 0.5s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
Killed
(venv) ujjal@DESKTOP-9359DEK:~/code/CustomerCallCenterAnalytics$ python3 server.py
üîç Validating system configuration...
‚úÖ Configuration validation passed
üóÑÔ∏è Initializing knowledge graph schema...
Initializing KuzuDB schema at: data/knowledge_graph_v2.db

=== Creating Node Tables ===
Creating Customer...
‚ö†Ô∏è  Customer already exists, skipping
Creating Transcript...
‚ö†Ô∏è  Transcript already exists, skipping
Creating Analysis...
‚ö†Ô∏è  Analysis already exists, skipping
Creating Plan...
‚ö†Ô∏è  Plan already exists, skipping
Creating Workflow...
‚ö†Ô∏è  Workflow already exists, skipping
Creating Execution...
‚ö†Ô∏è  Execution already exists, skipping
Creating Advisor...
‚ö†Ô∏è  Advisor already exists, skipping
Creating Hypothesis...
‚ö†Ô∏è  Hypothesis already exists, skipping
Creating CandidatePattern...
‚ö†Ô∏è  CandidatePattern already exists, skipping
Creating ValidatedPattern...
‚ö†Ô∏è  ValidatedPattern already exists, skipping
Creating Prediction...
‚ö†Ô∏è  Prediction already exists, skipping
Creating LearningNode...
‚ö†Ô∏è  LearningNode already exists, skipping
Creating KnowledgeEntity...
‚ö†Ô∏è  KnowledgeEntity already exists, skipping
Creating MetaLearning...
‚ö†Ô∏è  MetaLearning already exists, skipping
Creating Wisdom...
‚ö†Ô∏è  Wisdom already exists, skipping
Creating Call...
‚ö†Ô∏è  Call already exists, skipping

=== Creating Relationship Tables ===
Creating TRANSCRIPT_BELONGS_TO...
‚ö†Ô∏è  TRANSCRIPT_BELONGS_TO already exists, skipping
Creating ANALYSIS_ANALYZES...
‚ö†Ô∏è  ANALYSIS_ANALYZES already exists, skipping
Creating PLAN_PLANS_FOR...
‚ö†Ô∏è  PLAN_PLANS_FOR already exists, skipping
Creating WORKFLOW_IMPLEMENTS...
‚ö†Ô∏è  WORKFLOW_IMPLEMENTS already exists, skipping
Creating EXECUTION_EXECUTES...
‚ö†Ô∏è  EXECUTION_EXECUTES already exists, skipping
Creating HYPOTHESIS_DERIVED_FROM...
‚ö†Ô∏è  HYPOTHESIS_DERIVED_FROM already exists, skipping
Creating HYPOTHESIS_DERIVED_FROM_PLAN...
‚ö†Ô∏è  HYPOTHESIS_DERIVED_FROM_PLAN already exists, skipping
Creating HYPOTHESIS_DERIVED_FROM_EXECUTION...
‚ö†Ô∏è  HYPOTHESIS_DERIVED_FROM_EXECUTION already exists, skipping
Creating PATTERN_FORMED_FROM...
‚ö†Ô∏è  PATTERN_FORMED_FROM already exists, skipping
Creating PATTERN_VALIDATED...
‚ö†Ô∏è  PATTERN_VALIDATED already exists, skipping
Creating PREDICTION_BASED_ON...
‚ö†Ô∏è  PREDICTION_BASED_ON already exists, skipping
Creating TARGETS_CUSTOMER...
‚ö†Ô∏è  TARGETS_CUSTOMER already exists, skipping
Creating LEARNING_CONNECTS...
‚ö†Ô∏è  LEARNING_CONNECTS already exists, skipping
Creating KNOWLEDGE_EXTRACTED_FROM...
‚ö†Ô∏è  KNOWLEDGE_EXTRACTED_FROM already exists, skipping
Creating HYPOTHESIS_CONNECTS...
‚ö†Ô∏è  HYPOTHESIS_CONNECTS already exists, skipping
Creating PATTERN_INVOLVES...
‚ö†Ô∏è  PATTERN_INVOLVES already exists, skipping
Creating TRIGGERED_HYPOTHESIS...
‚ö†Ô∏è  TRIGGERED_HYPOTHESIS already exists, skipping
Creating CALL_BELONGS_TO_CUSTOMER...
‚ö†Ô∏è  CALL_BELONGS_TO_CUSTOMER already exists, skipping
Creating CALL_HANDLED_BY...
‚ö†Ô∏è  CALL_HANDLED_BY already exists, skipping
Creating CALL_HAS_TRANSCRIPT...
‚ö†Ô∏è  CALL_HAS_TRANSCRIPT already exists, skipping
Creating ADVISOR_HANDLES_WORKFLOW...
‚ö†Ô∏è  ADVISOR_HANDLES_WORKFLOW already exists, skipping
Creating ADVISOR_LEARNS_FROM...
‚ö†Ô∏è  ADVISOR_LEARNS_FROM already exists, skipping
Creating PATTERN_TEACHES_ADVISOR...
‚ö†Ô∏è  PATTERN_TEACHES_ADVISOR already exists, skipping
Creating WISDOM_DERIVED_FROM_PLAN...
‚ö†Ô∏è  WISDOM_DERIVED_FROM_PLAN already exists, skipping
Creating WISDOM_GUIDES_EXECUTION...
‚ö†Ô∏è  WISDOM_GUIDES_EXECUTION already exists, skipping
Creating WISDOM_VALIDATES_PATTERN...
‚ö†Ô∏è  WISDOM_VALIDATES_PATTERN already exists, skipping
Creating METALEARNING_ANALYZES_HYPOTHESIS...
‚ö†Ô∏è  METALEARNING_ANALYZES_HYPOTHESIS already exists, skipping
Creating METALEARNING_IMPROVES_PATTERN...
‚ö†Ô∏è  METALEARNING_IMPROVES_PATTERN already exists, skipping
Creating METALEARNING_GENERATES_WISDOM...
‚ö†Ô∏è  METALEARNING_GENERATES_WISDOM already exists, skipping

=== Schema Initialization Complete ===
All tables and relationships have been created successfully!

=== Verifying Schema ===
‚úÖ Customer: 1 nodes
‚úÖ Transcript: 2 nodes
‚úÖ Analysis: 4 nodes
‚úÖ Plan: 3 nodes
‚úÖ Workflow: 57 nodes
‚úÖ Execution: 0 nodes
‚úÖ Advisor: 1 nodes
‚úÖ Hypothesis: 4 nodes
‚úÖ CandidatePattern: 0 nodes
‚úÖ ValidatedPattern: 0 nodes
‚úÖ Prediction: 14 nodes
‚úÖ LearningNode: 0 nodes
‚úÖ KnowledgeEntity: 0 nodes
‚úÖ MetaLearning: 8 nodes
‚úÖ Wisdom: 10 nodes
‚úÖ Call: 4 nodes

üéâ KuzuDB schema initialized successfully at data/knowledge_graph_v2.db
‚úÖ Knowledge graph schema initialized successfully
‚úÖ All services initialized successfully
‚úÖ Knowledge event handling system initialized
‚úÖ Graph event handlers initialized - complete event-driven pipeline active
‚úÖ Graph event handlers initialized
‚úÖ Prediction cleanup system initialized
üöÄ Starting Customer Call Center Analytics API Server
üìö API Documentation: http://localhost:8000/docs
üåê Server URL: http://0.0.0.0:8000
‚úÖ Streamlined API with core endpoints only
INFO:     Started server process [66248]
INFO:     Waiting for application startup.
üöÄ Starting application lifespan...
‚úÖ Background prediction cleanup task started with error recovery
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:55782 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55788 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55786 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55782 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55792 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55804 - "GET /api/v1/orchestrate/runs HTTP/1.1" 200 OK
INFO:     127.0.0.1:55788 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55786 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55782 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:55822 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:55834 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:55838 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: advisor_borrower_1759854460735_7yjqg2c35, using actual_session_id: advisor_borrower_1759854460735_7yjqg2c35
[12:27:43] ‚úì POST | 0.8s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
INFO:     127.0.0.1:38860 - "GET /api/v1/workflows?limit=10 HTTP/1.1" 200 OK
[12:27:45] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:27:48] ‚úì POST | 0.6s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:28:04] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:60806 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: advisor_borrower_1759854460735_7yjqg2c35, using actual_session_id: advisor_borrower_1759854460735_7yjqg2c35
[12:28:19] ‚úì POST | 0.6s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:28:24] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:38950 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: advisor_borrower_1759854460735_7yjqg2c35, using actual_session_id: advisor_borrower_1759854460735_7yjqg2c35
INFO:     127.0.0.1:38956 - "GET /api/v1/workflows?limit=10 HTTP/1.1" 200 OK
[12:28:40] ‚úì POST | 0.6s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:28:41] ‚úì POST | 0.5s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:28:44] ‚úì POST | 0.7s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:28:50] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:52942 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:52952 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:54082 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: leadership_borrower_1759854553487_dq6tmfvy1, using actual_session_id: leadership_borrower_1759854553487_dq6tmfvy1
[12:29:20] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:21] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:29:21] ‚úì POST | 1.7s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:21] ‚úì openai.response | 1.8s | genai.system=openai genai.request.model=gpt-4o-mini genai.response.id=resp_090e78149b123a9c0068e53fe2048c8190aad44ef61b44539f genai.response.model=gpt-4o-mini-2024-07-18 genai.usage.inputtokens=719 genai.usage.outputtokens=43 llm.usage.totaltokens=762 genai.usage.cachereadinputtokens=0
[12:29:21] ‚úì openai.llm.arun | 1.8s | llm.provider=openai llm.model=gpt-4o-mini llm.attempt=1 llm.latencyms=1795.598176002386 llm.responseid=resp_090e78149b123a9c0068e53fe2048c8190aad44ef61b44539f
INFO:     127.0.0.1:54086 - "POST /api/v1/graph/ask HTTP/1.1" 200 OK
[12:29:23] ‚úì POST | 3.0s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:23] ‚úì openai.response | 3.0s | genai.system=openai genai.request.model=gpt-4o-mini genai.response.id=resp_05b6ba67d64001b90068e53fe3cf3081938ee76afd243f0c14 genai.response.model=gpt-4o-mini-2024-07-18 genai.usage.inputtokens=104 genai.usage.outputtokens=89 llm.usage.totaltokens=193 genai.usage.cachereadinputtokens=0
[12:29:23] ‚úì openai.llm.arun | 3.0s | llm.provider=openai llm.model=gpt-4o-mini llm.attempt=1 llm.latencyms=3024.71928599698 llm.responseid=resp_05b6ba67d64001b90068e53fe3cf3081938ee76afd243f0c14
[12:29:26] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:29:26] ‚úì POST | 0.2s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:29:26] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:36] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:37970 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: leadership_borrower_1759854553487_dq6tmfvy1, using actual_session_id: leadership_borrower_1759854553487_dq6tmfvy1
[12:29:41] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:42] ‚úì POST | 0.6s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:29:42] ‚úì POST | 0.2s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:37980 - "POST /api/v1/graph/ask HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:33854 - "GET /api/v1/transcripts?limit=50 HTTP/1.1" 200 OK
{
    "body": "Database operation 2 failed: Binder exception: Cannot find property pattern_data for p.",
    "severity_number": 17,
    "severity_text": "ERROR",
    "attributes": {
        "code.file.path": "/home/ujjal/code/CustomerCallCenterAnalytics/src/infrastructure/graph/unified_graph_manager.py",
        "code.function.name": "_process_write_queue",
        "code.line.number": 175
    },
    "dropped_attributes": 0,
    "timestamp": "2025-10-07T16:29:46.244173Z",
    "observed_timestamp": "2025-10-07T16:29:46.244429Z",
    "trace_id": "0x00000000000000000000000000000000",
    "span_id": "0x0000000000000000",
    "trace_flags": 0,
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.36.0",
            "service.name": "xai",
            "service.version": "1.0.0"
        },
        "schema_url": ""
    },
    "event_name": ""
}
{
    "body": "Graph query failed for question 'what patterns lead to successful resolutions?': Binder exception: Cannot find property pattern_data for p.",
    "severity_number": 17,
    "severity_text": "ERROR",
    "attributes": {
        "code.file.path": "/home/ujjal/code/CustomerCallCenterAnalytics/src/services/graph_query_service.py",
        "code.function.name": "ask",
        "code.line.number": 61
    },
    "dropped_attributes": 0,
    "timestamp": "2025-10-07T16:29:46.244899Z",
    "observed_timestamp": "2025-10-07T16:29:46.245014Z",
    "trace_id": "0x00000000000000000000000000000000",
    "span_id": "0x0000000000000000",
    "trace_flags": 0,
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.36.0",
            "service.name": "xai",
            "service.version": "1.0.0"
        },
        "schema_url": ""
    },
    "event_name": ""
}
{
    "body": "\u274c Failed to query graph: HTTP 500",
    "severity_number": 17,
    "severity_text": "ERROR",
    "attributes": {
        "code.file.path": "/home/ujjal/code/CustomerCallCenterAnalytics/src/call_center_agents/role_based_agent.py",
        "code.function.name": "query_knowledge_graph",
        "code.line.number": 601
    },
    "dropped_attributes": 0,
    "timestamp": "2025-10-07T16:29:46.247548Z",
    "observed_timestamp": "2025-10-07T16:29:46.247692Z",
    "trace_id": "0x00000000000000000000000000000000",
    "span_id": "0x0000000000000000",
    "trace_flags": 0,
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.36.0",
            "service.name": "xai",
            "service.version": "1.0.0"
        },
        "schema_url": ""
    },
    "event_name": ""
}
[12:29:42] ‚úì POST | 3.5s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:42] ‚úì openai.response | 3.5s | genai.system=openai genai.request.model=gpt-4o-mini genai.response.id=resp_0657389a355f63290068e53ff6efd08197814e84e052954534 genai.response.model=gpt-4o-mini-2024-07-18 genai.usage.inputtokens=719 genai.usage.outputtokens=133 llm.usage.totaltokens=852 genai.usage.cachereadinputtokens=0
[12:29:42] ‚úì openai.llm.arun | 3.5s | llm.provider=openai llm.model=gpt-4o-mini llm.attempt=1 llm.latencyms=3534.6686100092484 llm.responseid=resp_0657389a355f63290068e53ff6efd08197814e84e052954534
[12:29:46] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:48] ‚úì POST | 0.5s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:29:48] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
INFO:     127.0.0.1:33864 - "GET /api/v1/transcripts/CALL_F4E7E08E HTTP/1.1" 200 OK
[12:29:51] ‚úì POST | 0.2s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:29:53] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:30:03] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:59628 - "POST /api/v1/advisor/chat/stream HTTP/1.1" 200 OK
üÜî AdvisorService.chat_stream received session_id: leadership_borrower_1759854553487_dq6tmfvy1, using actual_session_id: leadership_borrower_1759854553487_dq6tmfvy1
[12:32:02] ‚úì POST | 0.5s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:32:04] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:32:04] ‚úì POST | 1.8s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:32:04] ‚úì openai.response | 1.8s | genai.system=openai genai.request.model=gpt-4o-mini genai.response.id=resp_00c1d18f700629450068e5408501d8819783f3bfca59462ab9 genai.response.model=gpt-4o-mini-2024-07-18 genai.usage.inputtokens=721 genai.usage.outputtokens=21 llm.usage.totaltokens=742 genai.usage.cachereadinputtokens=0
[12:32:04] ‚úì openai.llm.arun | 1.8s | llm.provider=openai llm.model=gpt-4o-mini llm.attempt=1 llm.latencyms=1820.6136770022567 llm.responseid=resp_00c1d18f700629450068e5408501d8819783f3bfca59462ab9
INFO:     127.0.0.1:43640 - "POST /api/v1/graph/ask HTTP/1.1" 200 OK
[12:32:06] ‚úì POST | 6.1s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:32:06] ‚úì openai.response | 6.1s | genai.system=openai genai.request.model=gpt-4o-mini genai.response.id=resp_06915db30ac4368b0068e540869a2081958303197ccc95e748 genai.response.model=gpt-4o-mini-2024-07-18 genai.usage.inputtokens=87 genai.usage.outputtokens=75 llm.usage.totaltokens=162 genai.usage.cachereadinputtokens=0
[12:32:06] ‚úì openai.llm.arun | 6.1s | llm.provider=openai llm.model=gpt-4o-mini llm.attempt=1 llm.latencyms=6076.636793994112 llm.responseid=resp_06915db30ac4368b0068e540869a2081958303197ccc95e748
[12:32:12] ‚úì POST | 0.4s | http.method=POST http.url=https://api.openai.com/v1/responses http.statuscode=200
[12:32:14] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
[12:32:20] ‚úì POST | 0.3s | http.method=POST http.url=https://api.openai.com/v1/traces/ingest http.statuscode=204
INFO:     127.0.0.1:58708 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:58718 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:58720 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:58708 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:58718 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:58720 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:58722 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:58726 - "GET /api/v1/orchestrate/runs HTTP/1.1" 200 OK
INFO:     127.0.0.1:58720 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:52586 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:52596 - "GET /api/v1/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:56820 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56066 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56078 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56094 - "GET /api/v1/orchestrate/runs HTTP/1.1" 200 OK
INFO:     127.0.0.1:56098 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56112 - "GET /api/v1/plans?client=%5Bobject+Object%5D&queryKey%5B%5D=plans&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56820 - "GET /api/v1/transcripts?client=%5Bobject+Object%5D&queryKey%5B%5D=transcripts&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56066 - "GET /api/v1/workflows?client=%5Bobject+Object%5D&queryKey%5B%5D=workflows&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56098 - "GET /api/v1/analyses?client=%5Bobject+Object%5D&queryKey%5B%5D=analyses&signal=%5Bobject+AbortSignal%5D HTTP/1.1" 200 OK
INFO:     127.0.0.1:56116 - "GET /api/mode HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:56116 - "GET /api/mode HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:56116 - "GET /api/mode HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:56116 - "GET /api/datasets HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:56116 - "GET /api/session/history HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:56116 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:56116 - "GET /openapi.json HTTP/1.1" 200 OK
^CINFO:     Shutting down
INFO:     Waiting for application shutdown.
üõë Shutting down application...
‚úÖ All background tasks shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [66248]
(venv) ujjal@DESKTOP-9359DEK:~/code/CustomerCallCenterAnalytics$ python3 src/infrastructure/mcp/
__init__.py          __pycache__/         mcp_server.py        tool_definitions.py  tool_handlers.py
(venv) ujjal@DESKTOP-9359DEK:~/code/CustomerCallCenterAnalytics$ python3 src/infrastructure/mcp/mcp_server.py
INFO:__main__:üöÄ Starting MCP Server for Customer Call Center Analytics
INFO:__main__:üåê Server URL: http://0.0.0.0:8001
INFO:__main__:üìö Tools: http://0.0.0.0:8001/tools
INFO:__main__:üîß Execute: http://0.0.0.0:8001/execute
INFO:__main__:============================================================
INFO:__main__:üîß Initializing MCP services...
INFO:__main__:‚úÖ MCP services initialized
INFO:     Started server process [74711]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     52.173.123.0:0 - "GET / HTTP/1.1" 200 OK
INFO:     52.173.123.11:0 - "GET /favicon.svg HTTP/1.1" 404 Not Found
INFO:     52.173.123.11:0 - "GET /favicon.png HTTP/1.1" 404 Not Found
INFO:     52.173.123.11:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     52.173.123.1:0 - "GET / HTTP/1.1" 200 OK
INFO:     98.110.81.53:0 - "GET / HTTP/1.1" 200 OK
INFO:     98.110.81.53:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     52.173.123.9:0 - "GET / HTTP/1.1" 200 OK
INFO:     52.173.123.0:0 - "GET /favicon.svg HTTP/1.1" 404 Not Found
INFO:     52.173.123.0:0 - "GET /favicon.png HTTP/1.1" 404 Not Found
INFO:     52.173.123.0:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     52.173.123.3:0 - "POST / HTTP/1.1" 405 Method Not Allowed
INFO:     52.173.123.4:0 - "GET / HTTP/1.1" 200 OK
INFO:     52.173.123.8:0 - "GET / HTTP/1.1" 200 OK
INFO:     52.173.123.10:0 - "GET /favicon.svg HTTP/1.1" 404 Not Found
INFO:     52.173.123.10:0 - "GET /favicon.png HTTP/1.1" 404 Not Found
INFO:     52.173.123.10:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     52.173.123.1:0 - "POST / HTTP/1.1" 405 Method Not Allowed
INFO:     52.173.123.11:0 - "GET / HTTP/1.1" 200 OK
INFO:     52.173.123.3:0 - "GET / HTTP/1.1" 200 OK
INFO:     52.173.123.10:0 - "GET /favicon.svg HTTP/1.1" 404 Not Found
INFO:     52.173.123.10:0 - "GET /favicon.png HTTP/1.1" 404 Not Found
INFO:     52.173.123.10:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     52.173.123.8:0 - "POST / HTTP/1.1" 405 Method Not Allowed
INFO:     52.173.123.2:0 - "GET / HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [74711]
Terminated
(venv) ujjal@DESKTOP-9359DEK:~/code/CustomerCallCenterAnalytics$ python3 src/infrastructure/mcp/mcp_server.py
INFO:__main__:üîß Initializing MCP services...
INFO:__main__:‚úÖ MCP services initialized
INFO:__main__:üöÄ Starting MCP Server for Customer Call Center Analytics
INFO:__main__:üåê Server will run on http://0.0.0.0:8001
INFO:__main__:üì° SSE endpoint: /mcp
INFO:__main__:üí¨ Messages endpoint: /mcp/messages
INFO:__main__:üîß Tools registered: 14
INFO:__main__:============================================================
WARNING:  ASGI app factory detected. Using it, but please consider setting the --factory flag explicitly.
INFO:     Started server process [79273]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8001): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
(venv) ujjal@DESKTOP-9359DEK:~/code/CustomerCallCenterAnalytics$ python3 src/infrastructure/mcp/mcp_server.py
INFO:__main__:üîß Initializing MCP services...
INFO:__main__:‚úÖ MCP services initialized
INFO:__main__:üöÄ Starting MCP Server for Customer Call Center Analytics
INFO:__main__:üåê Server will run on http://0.0.0.0:8001
INFO:__main__:üì° SSE endpoint: /mcp
INFO:__main__:üí¨ Messages endpoint: /mcp/messages
INFO:__main__:üîß Tools registered: 14
INFO:__main__:============================================================
WARNING:  ASGI app factory detected. Using it, but please consider setting the --factory flag explicitly.
INFO:     Started server process [79339]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     52.242.245.215:0 - "GET / HTTP/1.1" 404 Not Found
INFO:     52.242.245.223:0 - "POST / HTTP/1.1" 404 Not Found
INFO:     52.242.245.211:0 - "GET / HTTP/1.1" 404 Not Found
INFO:     98.110.81.53:0 - "GET / HTTP/1.1" 404 Not Found
INFO:     98.110.81.53:0 - "GET /mcp HTTP/1.1" 200 OK
INFO:     52.242.245.210:0 - "GET / HTTP/1.1" 404 Not Found
INFO:     52.242.245.222:0 - "POST /mcp HTTP/1.1" 405 Method Not Allowed
INFO:     52.242.245.210:0 - "GET /mcp HTTP/1.1" 200 OK
INFO:     52.242.245.217:0 - "POST /mcp/messages?session_id=690c2fd255634764a36bc900c69c8f54 HTTP/1.1" 307 Temporary Redirect
INFO:     52.242.245.217:0 - "POST /mcp/messages/?session_id=690c2fd255634764a36bc900c69c8f54 HTTP/1.1" 202 Accepted
INFO:     52.242.245.217:0 - "POST /mcp/messages?session_id=690c2fd255634764a36bc900c69c8f54 HTTP/1.1" 307 Temporary Redirect
INFO:     52.242.245.217:0 - "POST /mcp/messages/?session_id=690c2fd255634764a36bc900c69c8f54 HTTP/1.1" 202 Accepted
INFO:     52.242.245.217:0 - "POST /mcp/messages?session_id=690c2fd255634764a36bc900c69c8f54 HTTP/1.1" 307 Temporary Redirect
INFO:     52.242.245.217:0 - "POST /mcp/messages/?session_id=690c2fd255634764a36bc900c69c8f54 HTTP/1.1" 202 Accepted
INFO:mcp.server.lowlevel.server:Processing request of type ListToolsRequest